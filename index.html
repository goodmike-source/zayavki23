<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ServiceTrack Pro | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∞–º–∏</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üîß</text></svg>">
</head>
<body>
  <div class="app-container">
    <!-- –®–∞–ø–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <header class="app-header">
      <div class="header-left">
        <div class="logo">
          <i class="fas fa-tools"></i>
          <h1>ServiceTrack <span>Pro</span></h1>
        </div>
        <div class="stats-summary">
          <div class="stat-item accepted">
            <span class="stat-icon"><i class="fas fa-check-circle"></i></span>
            <span class="stat-count" id="accepted-count">0</span>
          </div>
          <div class="stat-item diagnostics">
            <span class="stat-icon"><i class="fas fa-stethoscope"></i></span>
            <span class="stat-count" id="diagnostics-count">0</span>
          </div>
          <div class="stat-item ready">
            <span class="stat-icon"><i class="fas fa-box-open"></i></span>
            <span class="stat-count" id="ready-count">0</span>
          </div>
          <div class="stat-item overdue">
            <span class="stat-icon"><i class="fas fa-exclamation-triangle"></i></span>
            <span class="stat-count" id="overdue-count">0</span>
          </div>
        </div>
      </div>
      <div class="header-right">
        <button id="theme-toggle" class="theme-toggle">
          <i class="fas fa-moon"></i>
        </button>
        <button id="export-excel" class="btn btn-primary">
          <i class="fas fa-file-excel"></i> Excel
        </button>
      </div>
    </header>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ -->
    <main class="app-content">
      <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
      <div class="control-panel">
        <div class="search-box">
          <i class="fas fa-search"></i>
          <input type="text" id="search-input" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∫–ª–∏–µ–Ω—Ç—É, —Ç–æ–≤–∞—Ä—É –∏–ª–∏ ‚Ññ...">
          <button id="clear-search" class="btn-icon">
            <i class="fas fa-times"></i>
          </button>
        </div>
        
        <div class="filters">
          <select id="status-filter" class="filter-select">
            <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
            <option value="–ü—Ä–∏–Ω—è—Ç">–ü—Ä–∏–Ω—è—Ç</option>
            <option value="–û—Ç–ø—Ä–∞–≤–ª–µ–Ω">–û—Ç–ø—Ä–∞–≤–ª–µ–Ω</option>
            <option value="–ù–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ">–ù–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ</option>
            <option value="–ì–æ—Ç–æ–≤ –∫ –≤—ã–¥–∞—á–µ">–ì–æ—Ç–æ–≤ –∫ –≤—ã–¥–∞—á–µ</option>
            <option value="–¢—Ä–µ–±—É–µ—Ç—Å—è –∑–≤–æ–Ω–æ–∫">–¢—Ä–µ–±—É–µ—Ç—Å—è –∑–≤–æ–Ω–æ–∫</option>
            <option value="–û—Ç–∫–∞–∑–∞–Ω–æ">–û—Ç–∫–∞–∑–∞–Ω–æ</option>
          </select>
          
          <select id="urgency-filter" class="filter-select">
            <option value="">–í—Å–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã</option>
            <option value="urgent">–°—Ä–æ—á–Ω—ã–µ</option>
            <option value="overdue">–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ</option>
            <option value="today">–°–µ–≥–æ–¥–Ω—è</option>
            <option value="tomorrow">–ó–∞–≤—Ç—Ä–∞</option>
          </select>
        </div>
        
        <div class="actions">
          <button id="add-request" class="btn btn-accent">
            <i class="fas fa-plus"></i> –ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞
          </button>
          <button id="toggle-view" class="btn btn-secondary">
            <i class="fas fa-th"></i> –ö–∞—Ä—Ç–æ—á–∫–∏
          </button>
        </div>
      </div>

      <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –¥–∞–Ω–Ω—ã—Ö -->
      <div class="data-container">
        <!-- –¢–∞–±–ª–∏—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ -->
        <div id="table-view" class="table-view">
          <table id="requests-table">
            <thead>
              <tr>
                <th data-sort="id">‚Ññ</th>
                <th data-sort="date">–î–∞—Ç–∞</th>
                <th data-sort="client">–ö–ª–∏–µ–Ω—Ç</th>
                <th data-sort="product">–¢–æ–≤–∞—Ä</th>
                <th data-sort="serviceId">‚Ññ –æ–±—Ä–∞—â–µ–Ω–∏—è</th>
                <th data-sort="status">–°—Ç–∞—Ç—É—Å</th>
                <th data-sort="updateDate">–û–±–Ω–æ–≤–ª–µ–Ω–æ</th>
                <th data-sort="deadline">–î–µ–¥–ª–∞–π–Ω</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
              </tr>
            </thead>
            <tbody id="table-body"></tbody>
          </table>
        </div>
        
        <!-- –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ -->
        <div id="cards-view" class="cards-view" style="display: none;">
          <div class="cards-grid" id="cards-container"></div>
        </div>
      </div>
    </main>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
  <div id="request-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="modal-title">–ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞</h2>
        <button class="close-modal">&times;</button>
      </div>
      <div class="modal-body">
        <form id="request-form">
          <div class="form-grid">
            <div class="form-section">
              <h3><i class="fas fa-info-circle"></i> –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
              <div class="form-group">
                <label for="client">–ö–ª–∏–µ–Ω—Ç*</label>
                <input type="text" id="client" required>
              </div>
              <div class="form-group">
                <label for="product">–¢–æ–≤–∞—Ä*</label>
                <input type="text" id="product" required>
              </div>
              <div class="form-group">
                <label for="service-id">–ù–æ–º–µ—Ä –æ–±—Ä–∞—â–µ–Ω–∏—è</label>
                <input type="text" id="service-id">
              </div>
            </div>
            
            <div class="form-section">
              <h3><i class="fas fa-cog"></i> –î–µ—Ç–∞–ª–∏ –∑–∞—è–≤–∫–∏</h3>
              <div class="form-group">
                <label for="status">–°—Ç–∞—Ç—É—Å</label>
                <select id="status">
                  <option value="–ü—Ä–∏–Ω—è—Ç">–ü—Ä–∏–Ω—è—Ç</option>
                  <option value="–û—Ç–ø—Ä–∞–≤–ª–µ–Ω">–û—Ç–ø—Ä–∞–≤–ª–µ–Ω</option>
                  <option value="–ù–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ">–ù–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ</option>
                  <option value="–ì–æ—Ç–æ–≤ –∫ –≤—ã–¥–∞—á–µ">–ì–æ—Ç–æ–≤ –∫ –≤—ã–¥–∞—á–µ</option>
                  <option value="–¢—Ä–µ–±—É–µ—Ç—Å—è –∑–≤–æ–Ω–æ–∫">–¢—Ä–µ–±—É–µ—Ç—Å—è –∑–≤–æ–Ω–æ–∫</option>
                  <option value="–û—Ç–∫–∞–∑–∞–Ω–æ">–û—Ç–∫–∞–∑–∞–Ω–æ</option>
                </select>
              </div>
              <div class="form-group">
                <label for="deadline">–î–µ–¥–ª–∞–π–Ω</label>
                <input type="date" id="deadline">
              </div>
              <div class="form-group checkbox-group">
                <input type="checkbox" id="urgent">
                <label for="urgent">–°—Ä–æ—á–Ω–∞—è –∑–∞—è–≤–∫–∞</label>
              </div>
            </div>
            
            <div class="form-section">
              <h3><i class="fas fa-phone"></i> –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
              <div class="form-group">
                <label for="client-phone">–¢–µ–ª–µ—Ñ–æ–Ω –∫–ª–∏–µ–Ω—Ç–∞</label>
                <input type="tel" id="client-phone">
              </div>
              <div class="form-group">
                <label for="sc-phone">–¢–µ–ª–µ—Ñ–æ–Ω –°–¶</label>
                <input type="tel" id="sc-phone">
              </div>
              <div class="form-group">
                <label for="sc-address">–ê–¥—Ä–µ—Å –°–¶</label>
                <input type="text" id="sc-address">
              </div>
            </div>
            
            <div class="form-section full-width">
              <h3><i class="fas fa-comment"></i> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</h3>
              <div class="form-group">
                <textarea id="comment" rows="3"></textarea>
              </div>
            </div>
          </div>
          
          <div class="form-actions">
            <button type="button" class="btn btn-secondary close-modal">–û—Ç–º–µ–Ω–∞</button>
            <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–µ—Ç–∞–ª–µ–π -->
  <div id="details-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>–î–µ—Ç–∞–ª–∏ –∑–∞—è–≤–∫–∏ <span id="request-id"></span></h2>
        <button class="close-modal">&times;</button>
      </div>
      <div class="modal-body">
        <div class="request-details">
          <div class="detail-header">
            <div class="status-badge" id="detail-status"></div>
            <div class="urgency-label" id="detail-urgency"></div>
          </div>
          
          <div class="detail-grid">
            <div class="detail-section">
              <h3><i class="fas fa-info-circle"></i> –û—Å–Ω–æ–≤–Ω–æ–µ</h3>
              <div class="detail-item">
                <span class="detail-label">–ö–ª–∏–µ–Ω—Ç:</span>
                <span class="detail-value" id="detail-client"></span>
              </div>
              <div class="detail-item">
                <span class="detail-label">–¢–æ–≤–∞—Ä:</span>
                <span class="detail-value" id="detail-product"></span>
              </div>
              <div class="detail-item">
                <span class="detail-label">–ù–æ–º–µ—Ä –æ–±—Ä–∞—â–µ–Ω–∏—è:</span>
                <span class="detail-value" id="detail-service-id"></span>
              </div>
              <div class="detail-item">
                <span class="detail-label">–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:</span>
                <span class="detail-value" id="detail-date"></span>
              </div>
              <div class="detail-item">
                <span class="detail-label">–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:</span>
                <span class="detail-value" id="detail-update-date"></span>
              </div>
              <div class="detail-item">
                <span class="detail-label">–î–µ–¥–ª–∞–π–Ω:</span>
                <span class="detail-value" id="detail-deadline"></span>
              </div>
            </div>
            
            <div class="detail-section">
              <h3><i class="fas fa-phone"></i> –ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
              <div class="detail-item">
                <span class="detail-label">–¢–µ–ª–µ—Ñ–æ–Ω –∫–ª–∏–µ–Ω—Ç–∞:</span>
                <span class="detail-value" id="detail-client-phone"></span>
              </div>
              <div class="detail-item">
                <span class="detail-label">–¢–µ–ª–µ—Ñ–æ–Ω –°–¶:</span>
                <span class="detail-value" id="detail-sc-phone"></span>
              </div>
              <div class="detail-item">
                <span class="detail-label">–ê–¥—Ä–µ—Å –°–¶:</span>
                <span class="detail-value" id="detail-sc-address"></span>
              </div>
              <div class="detail-item">
                <span class="detail-label">–ú–µ–Ω–µ–¥–∂–µ—Ä:</span>
                <span class="detail-value" id="detail-manager"></span>
              </div>
            </div>
            
            <div class="detail-section full-width">
              <h3><i class="fas fa-comment"></i> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</h3>
              <div class="detail-comment" id="detail-comment"></div>
            </div>
            
            <div class="detail-section full-width">
              <h3><i class="fas fa-history"></i> –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π</h3>
              <ul class="history-list" id="detail-history"></ul>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary close-modal">–ó–∞–∫—Ä—ã—Ç—å</button>
        <button class="btn btn-primary" id="edit-request">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
      </div>
    </div>
  </div>

  <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
  <div id="notification" class="notification"></div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
